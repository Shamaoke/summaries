<!DOCTYPE html>
<html lang='ru'>
<head>
<meta charset='utf-8'>
<link href='/summaries/stylesheet.css' rel='stylesheet'>
<title>CMake</title>
</head>
<body>
<header>
<h1>CMake</h1>
</header>
<main>
<h1 id="Содержание">Содержание</h1>

<p><a href="#Переменные_окружения">Переменные окружения</a></p>

<p><a href="#Команды">Команды</a></p>

<p><a href="#Ссылки">Ссылки</a></p>

<p>В процессе разработки программного обеспечения наступает момент, когда
приходится переводить исходный код во что-то, что может быть использовано
конечным пользователем.</p>

<p>Этот процесс называется <em>сборкой программного обеспечения</em>.</p>

<p>Сборка программного обеспечения — это комплексный процесс.</p>

<p>Для управления комплексностью при сборки программного обеспечения требуется подходящий инструмент.</p>

<p>Таким иструментом является CMake.</p>

<p><strong>CMake</strong> — инструмент управления сборкой программного обеспечения.</p>

<p>Цель CMake — обеспечить управляемостью комплексный процесс сборки программного обеспечения.</p>

<p>CMake — это набор инструментов для осуществления сборки программного обеспечения.</p>

<p>Сборка программного обеспечения в системе CMake происходит поэтапно.</p>

<p>Упрощенно, процесс работы CMake можно разделить на пять этапов.</p>

<ul>
  <li>
    <p>Составление <em>файла описания проекта</em> (<em>файла управления сборкой</em>)</p>
  </li>
  <li>
    <p>Генерирование <em>файла сборки</em> из файла управления сборкой</p>

    <ul>
      <li>
        <p>Конфигурация</p>
      </li>
      <li>
        <p>Собственно генерирование</p>
      </li>
    </ul>
  </li>
  <li>
    <p>Сборка</p>
  </li>
  <li>
    <p>Тестирование</p>
  </li>
  <li>
    <p>Упаковка</p>
  </li>
</ul>

<p>Основным артефактом системы CMake является файл <code>CMakeLists.txt</code>. Он определяет
что должно быть собрано и как, какие тесты должны быть запущены и какие пакеты
созданы.</p>

<p>Данный файл является <em>файлом описания проекта</em>. Он служит для управления
комплексным процессом сборки программного обеспечения.</p>

<p>Фундаментальным понятием системы CMake является понятие <em>проекта</em>. Сборка
проекта — это то, что находится под управлением системы CMake.</p>

<p>Структура проекта состоит из двух частей: <em>исходные файлы</em> и <em>двоичные файлы</em>.</p>

<p>В рамках системы CMake установлен следующий порядок размещения указанных файлов
по каталогам: исходные файлы размещаются в <em>каталоге с исходным кодом</em>, двоичные
файлы размещаются в <em>каталоге с двоичными файлами</em> (или в <em>каталоге сборки</em>).</p>

<p>Каталог с исходным кодом находится под управлением разработчика.</p>

<p>Каталог сборки находится под управлением системы CMake. В процессе работы
системы в этом каталоге создаются различные артефакты системы сборки, а также файлы,
являющиеся результатом сборки.</p>

<p>В отношении того, где будет размещен каталог сборки существует два варианта.
Каталог сборки размещен в каталоге с исходным кодом (<em>in-source</em>). Каталог
сборки размещен вне каталога с исходным кодом (<em>out-source</em>).</p>

<p>В процессе работы система CMake создает файлы сборки выбранной системы сборки.
Для конкретной системы сборки должен быть использован соответствующий генератор.</p>

<p>Базовая форма работы с системой CMake.</p>

<pre><code>cd build&#x000A;cmake -G Ninja ../source&#x000A;cmake --build .&#x000A;</code></pre>

<h1 id="section">Переменные окружения</h1>

<dl>
  <dt><a href="https://cmake.org/cmake/help/latest/envvar/CMAKE_GENERATOR.html"><code>CMAKE_GENERATOR</code></a></dt>
  <dd>
    <p>Установить генератор, используемый системой по умолчанию</p>
  </dd>
</dl>

<h1 id="Команды">Команды</h1>

<dl>
  <dt><code>cmake -G Ninja ..</code></dt>
  <dd>
    <p>Сгенерировать файлы сборки системы Ninja (<code>-G Ninja</code>) в текущем каталоге</p>
  </dd>
  <dd>
    <p>Файл сборки <code>CMakeLists.txt</code> должен находиться в родительском каталоге.</p>
  </dd>
  <dd>
    <p>Сгенерированные файлы будут находиться в текущем каталоге.</p>
  </dd>
  <dt><code>cmake --build .</code></dt>
  <dd>
    <p>Осуществить сборку проекта</p>
  </dd>
  <dd>
    <p>Сборка будет осуществлена из файлов, сгенерированных командой <code>cmake</code> в текущем каталоге.</p>
  </dd>
</dl>

<h1 id="Ссылки">Ссылки</h1>

<ul>
  <li>
    <p><a href="https://gitlab.kitware.com/cmake/community/-/wikis/FAQ">FAQ · Wiki · CMake / Community · GitLab</a></p>
  </li>
  <li>
    <p><a href="https://cmake.org/cmake/help/latest">CMake Reference Documentation — CMake 3.29.0 Documentation</a></p>
  </li>
  <li>
    <p><a href="https://discourse.cmake.org">CMake Discourse</a></p>
  </li>
</ul>

<!-- vim: set textwidth=80 colorcolumn=80: -->

</main>
<footer></footer>
</body>
</html>
